<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
    <modelVersion>4.0.0</modelVersion>
    <parent>
	<groupId>com.reprezen.rapidml</groupId>
	<artifactId>com.reprezen.rapidml.parent</artifactId>
	<version>0.0.3-SNAPSHOT</version>
    </parent>
    <artifactId>com.reprezen.rapidml.ide</artifactId>
    <packaging>jar</packaging>
    <properties>
	<maven.install.skip>true</maven.install.skip>
	<maven.deploy.skip>true</maven.deploy.skip>
    </properties>
    <build>
	<plugins>
	    <plugin>
		<groupId>org.eclipse.xtend</groupId>
		<artifactId>xtend-maven-plugin</artifactId>
	    </plugin>
	    <plugin>
		<groupId>org.codehaus.mojo</groupId>
		<artifactId>build-helper-maven-plugin</artifactId>
		<version>1.9.1</version>
		<executions>
		    <execution>
			<id>add-source</id>
			<phase>initialize</phase>
			<goals>
			    <goal>add-source</goal>
			    <goal>add-resource</goal>
			</goals>
			<configuration>
			    <sources>
				<source>src/main/xtext-gen</source>
			    </sources>
			    <resources>
				<resource>
				    <directory>src/main/xtext-gen</directory>
				    <excludes>
					<exclude>**/*.java</exclude>
					<exclude>**/*.g</exclude>
				    </excludes>
				</resource>
			    </resources>
			</configuration>
		    </execution>
		</executions>
	    </plugin>
	    <plugin>
		<groupId>org.codehaus.mojo</groupId>
		<artifactId>appassembler-maven-plugin</artifactId>
		<version>1.10</version>
		<executions>
		    <execution>
			<phase>package</phase>
			<goals>
			    <goal>assemble</goal>
			</goals>
			<configuration>
			    <assembleDirectory>${project.build.directory}/languageserver</assembleDirectory>
			    <repositoryLayout>flat</repositoryLayout>
			    <useWildcardClassPath>true</useWildcardClassPath>
			    <!-- uncomment to enable remote debugging
				 <extraJvmArguments>-Xdebug -Xnoagent -Djava.compiler=NONE -Xrunjdwp:transport=dt_socket,server=y,suspend=n,address=8000</extraJvmArguments>
			    -->
			    <programs>
				<program>
				    <id>mydsl-ls</id>
				    <mainClass>org.eclipse.xtext.ide.server.ServerLauncher</mainClass>
				    <!-- uncomment to enable options
					 <commandLineArguments>
					     <commandLineArgument>-trace</commandLineArgument>
					     <commandLineArgument>-log</commandLineArgument>
					     <commandLineArgument>-noValidate</commandLineArgument>
					 </commandLineArguments>
					 -->
				</program>
			    </programs>
			</configuration>
		    </execution>
		</executions>
	    </plugin>
	</plugins>
    </build>

    <dependencies>
	<dependency>
	    <groupId>${project.groupId}</groupId>
	    <artifactId>com.reprezen.rapidml</artifactId>
	    <version>${project.version}</version>
	</dependency>
	<dependency>
	    <groupId>org.eclipse.xtext</groupId>
	    <artifactId>org.eclipse.xtext.ide</artifactId>
	    <version>${xtextVersion}</version>
	</dependency>
	<dependency>
	    <groupId>org.eclipse.xtext</groupId>
	    <artifactId>org.eclipse.xtext.xbase.ide</artifactId>
	    <version>${xtextVersion}</version>
	</dependency>
    </dependencies>
</project>
